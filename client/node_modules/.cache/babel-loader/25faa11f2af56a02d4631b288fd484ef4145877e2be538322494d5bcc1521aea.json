{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar graphql_1 = require(\"graphql\");\nvar error_1 = require(\"graphql/error\");\nvar errors_1 = require(\"./errors\");\nvar getResponseKeyFromInfo_1 = require(\"./getResponseKeyFromInfo\");\n// Resolver that knows how to:\n// a) handle aliases for proxied schemas\n// b) handle errors from proxied schemas\nvar defaultMergedResolver = function (parent, args, context, info) {\n  if (!parent) {\n    return null;\n  }\n  var responseKey = getResponseKeyFromInfo_1.getResponseKeyFromInfo(info);\n  var errorResult = errors_1.getErrorsFromParent(parent, responseKey);\n  if (errorResult.kind === 'OWN') {\n    throw error_1.locatedError(new Error(errorResult.error.message), info.fieldNodes, graphql_1.responsePathAsArray(info.path));\n  }\n  var result = parent[responseKey];\n  if (result == null) {\n    result = parent[info.fieldName];\n  }\n  // subscription result mapping\n  if (!result && parent.data && parent.data[responseKey]) {\n    result = parent.data[responseKey];\n  }\n  if (errorResult.errors) {\n    result = errors_1.annotateWithChildrenErrors(result, errorResult.errors);\n  }\n  return result;\n};\nexports.default = defaultMergedResolver;","map":{"version":3,"names":["graphql_1","require","error_1","errors_1","getResponseKeyFromInfo_1","defaultMergedResolver","parent","args","context","info","responseKey","getResponseKeyFromInfo","errorResult","getErrorsFromParent","kind","locatedError","Error","error","message","fieldNodes","responsePathAsArray","path","result","fieldName","data","errors","annotateWithChildrenErrors","exports","default"],"sources":["../../src/stitching/defaultMergedResolver.ts"],"sourcesContent":[null],"mappings":";;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AACA,IAAAG,wBAAA,GAAAH,OAAA;AAEA;AACA;AACA;AACA,IAAMI,qBAAqB,GAAmC,SAAAA,CAACC,MAAM,EAAEC,IAAI,EAAEC,OAAO,EAAEC,IAAI;EACxF,IAAI,CAACH,MAAM,EAAE;IACX,OAAO,IAAI;;EAGb,IAAMI,WAAW,GAAGN,wBAAA,CAAAO,sBAAsB,CAACF,IAAI,CAAC;EAChD,IAAMG,WAAW,GAAGT,QAAA,CAAAU,mBAAmB,CAACP,MAAM,EAAEI,WAAW,CAAC;EAE5D,IAAIE,WAAW,CAACE,IAAI,KAAK,KAAK,EAAE;IAC9B,MAAMZ,OAAA,CAAAa,YAAY,CAAC,IAAIC,KAAK,CAACJ,WAAW,CAACK,KAAK,CAACC,OAAO,CAAC,EAAET,IAAI,CAACU,UAAU,EAAEnB,SAAA,CAAAoB,mBAAmB,CAACX,IAAI,CAACY,IAAI,CAAC,CAAC;;EAG3G,IAAIC,MAAM,GAAGhB,MAAM,CAACI,WAAW,CAAC;EAEhC,IAAIY,MAAM,IAAI,IAAI,EAAE;IAClBA,MAAM,GAAGhB,MAAM,CAACG,IAAI,CAACc,SAAS,CAAC;;EAGjC;EACA,IAAI,CAACD,MAAM,IAAIhB,MAAM,CAACkB,IAAI,IAAIlB,MAAM,CAACkB,IAAI,CAACd,WAAW,CAAC,EAAE;IACtDY,MAAM,GAAGhB,MAAM,CAACkB,IAAI,CAACd,WAAW,CAAC;;EAGnC,IAAIE,WAAW,CAACa,MAAM,EAAE;IACtBH,MAAM,GAAGnB,QAAA,CAAAuB,0BAA0B,CAACJ,MAAM,EAAEV,WAAW,CAACa,MAAM,CAAC;;EAEjE,OAAOH,MAAM;AACf,CAAC;AAEDK,OAAA,CAAAC,OAAA,GAAevB,qBAAqB"},"metadata":{},"sourceType":"script","externalDependencies":[]}