{"ast":null,"code":"var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n  return r;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar graphql_1 = require(\"graphql\");\nvar _1 = require(\".\");\nfunction concatenateTypeDefs(typeDefinitionsAry, calledFunctionRefs) {\n  if (calledFunctionRefs === void 0) {\n    calledFunctionRefs = [];\n  }\n  var resolvedTypeDefinitions = [];\n  typeDefinitionsAry.forEach(function (typeDef) {\n    if (typeDef.kind !== undefined) {\n      typeDef = graphql_1.print(typeDef);\n    }\n    if (typeof typeDef === 'function') {\n      if (calledFunctionRefs.indexOf(typeDef) === -1) {\n        calledFunctionRefs.push(typeDef);\n        resolvedTypeDefinitions = resolvedTypeDefinitions.concat(concatenateTypeDefs(typeDef(), calledFunctionRefs));\n      }\n    } else if (typeof typeDef === 'string') {\n      resolvedTypeDefinitions.push(typeDef.trim());\n    } else {\n      var type = typeof typeDef;\n      throw new _1.SchemaError(\"typeDef array must contain only strings and functions, got \" + type);\n    }\n  });\n  return uniq(resolvedTypeDefinitions.map(function (x) {\n    return x.trim();\n  })).join('\\n');\n}\nfunction uniq(array) {\n  return array.reduce(function (accumulator, currentValue) {\n    return accumulator.indexOf(currentValue) === -1 ? __spreadArrays(accumulator, [currentValue]) : accumulator;\n  }, []);\n}\nexports.default = concatenateTypeDefs;","map":{"version":3,"names":["graphql_1","require","_1","concatenateTypeDefs","typeDefinitionsAry","calledFunctionRefs","resolvedTypeDefinitions","forEach","typeDef","kind","undefined","print","indexOf","push","concat","trim","type","SchemaError","uniq","map","x","join","array","reduce","accumulator","currentValue","__spreadArrays","exports","default"],"sources":["../../src/generate/concatenateTypeDefs.ts"],"sourcesContent":[null],"mappings":";;;;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AAGA,IAAAC,EAAA,GAAAD,OAAA;AAEA,SAASE,mBAAmBA,CAC1BC,kBAA8B,EAC9BC,kBAA8B;EAA9B,IAAAA,kBAAA;IAAAA,kBAAA,GAAqB,EAAS;EAAA;EAE9B,IAAIC,uBAAuB,GAAa,EAAE;EAC1CF,kBAAkB,CAACG,OAAO,CAAC,UAACC,OAAiB;IAC3C,IAAmBA,OAAQ,CAACC,IAAI,KAAKC,SAAS,EAAE;MAC9CF,OAAO,GAAGR,SAAA,CAAAW,KAAK,CAACH,OAAkB,CAAC;;IAGrC,IAAI,OAAOA,OAAO,KAAK,UAAU,EAAE;MACjC,IAAIH,kBAAkB,CAACO,OAAO,CAACJ,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;QAC9CH,kBAAkB,CAACQ,IAAI,CAACL,OAAO,CAAC;QAChCF,uBAAuB,GAAGA,uBAAuB,CAACQ,MAAM,CACtDX,mBAAmB,CAACK,OAAO,EAAE,EAAEH,kBAAkB,CAAC,CACnD;;KAEJ,MAAM,IAAI,OAAOG,OAAO,KAAK,QAAQ,EAAE;MACtCF,uBAAuB,CAACO,IAAI,CAACL,OAAO,CAACO,IAAI,EAAE,CAAC;KAC7C,MAAM;MACL,IAAMC,IAAI,GAAG,OAAOR,OAAO;MAC3B,MAAM,IAAIN,EAAA,CAAAe,WAAW,CACnB,gEAA8DD,IAAM,CACrE;;EAEL,CAAC,CAAC;EACF,OAAOE,IAAI,CAACZ,uBAAuB,CAACa,GAAG,CAAC,UAAAC,CAAC;IAAI,OAAAA,CAAC,CAACL,IAAI,EAAE;EAAR,CAAQ,CAAC,CAAC,CAACM,IAAI,CAAC,IAAI,CAAC;AACpE;AAEA,SAASH,IAAIA,CAACI,KAAiB;EAC7B,OAAOA,KAAK,CAACC,MAAM,CAAC,UAACC,WAAW,EAAEC,YAAY;IAC5C,OAAOD,WAAW,CAACZ,OAAO,CAACa,YAAY,CAAC,KAAK,CAAC,CAAC,GAC5CC,cAAA,CAAKF,WAAW,GAAEC,YAAY,KAC7BD,WAAW;EACjB,CAAC,EAAE,EAAE,CAAC;AACR;AAEAG,OAAA,CAAAC,OAAA,GAAezB,mBAAmB"},"metadata":{},"sourceType":"script","externalDependencies":[]}