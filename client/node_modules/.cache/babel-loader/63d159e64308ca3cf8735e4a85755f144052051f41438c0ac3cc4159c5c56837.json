{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar delegateToSchema_1 = require(\"./delegateToSchema\");\nfunction generateProxyingResolvers(targetSchema, transforms, mapping) {\n  var result = {};\n  Object.keys(mapping).forEach(function (name) {\n    result[name] = {};\n    var innerMapping = mapping[name];\n    Object.keys(innerMapping).forEach(function (from) {\n      var _a;\n      var to = innerMapping[from];\n      var resolverType = to.operation === 'subscription' ? 'subscribe' : 'resolve';\n      result[name][from] = (_a = {}, _a[resolverType] = createProxyingResolver(targetSchema, to.operation, to.name, transforms), _a);\n    });\n  });\n  return result;\n}\nexports.generateProxyingResolvers = generateProxyingResolvers;\nfunction generateSimpleMapping(targetSchema) {\n  var query = targetSchema.getQueryType();\n  var mutation = targetSchema.getMutationType();\n  var subscription = targetSchema.getSubscriptionType();\n  var result = {};\n  if (query) {\n    result[query.name] = generateMappingFromObjectType(query, 'query');\n  }\n  if (mutation) {\n    result[mutation.name] = generateMappingFromObjectType(mutation, 'mutation');\n  }\n  if (subscription) {\n    result[subscription.name] = generateMappingFromObjectType(subscription, 'subscription');\n  }\n  return result;\n}\nexports.generateSimpleMapping = generateSimpleMapping;\nfunction generateMappingFromObjectType(type, operation) {\n  var result = {};\n  var fields = type.getFields();\n  Object.keys(fields).forEach(function (fieldName) {\n    result[fieldName] = {\n      name: fieldName,\n      operation: operation\n    };\n  });\n  return result;\n}\nexports.generateMappingFromObjectType = generateMappingFromObjectType;\nfunction createProxyingResolver(schema, operation, fieldName, transforms) {\n  return function (parent, args, context, info) {\n    return delegateToSchema_1.default({\n      schema: schema,\n      operation: operation,\n      fieldName: fieldName,\n      args: {},\n      context: context,\n      info: info,\n      transforms: transforms\n    });\n  };\n}","map":{"version":3,"names":["delegateToSchema_1","require","generateProxyingResolvers","targetSchema","transforms","mapping","result","Object","keys","forEach","name","innerMapping","from","to","resolverType","operation","_a","createProxyingResolver","exports","generateSimpleMapping","query","getQueryType","mutation","getMutationType","subscription","getSubscriptionType","generateMappingFromObjectType","type","fields","getFields","fieldName","schema","parent","args","context","info","default"],"sources":["../../src/stitching/resolvers.ts"],"sourcesContent":[null],"mappings":";;;AAMA,IAAAA,kBAAA,GAAAC,OAAA;AAYA,SAAgBC,yBAAyBA,CACvCC,YAA2B,EAC3BC,UAA4B,EAC5BC,OAAgB;EAEhB,IAAMC,MAAM,GAAG,EAAE;EACjBC,MAAM,CAACC,IAAI,CAACH,OAAO,CAAC,CAACI,OAAO,CAAC,UAAAC,IAAI;IAC/BJ,MAAM,CAACI,IAAI,CAAC,GAAG,EAAE;IACjB,IAAMC,YAAY,GAAGN,OAAO,CAACK,IAAI,CAAC;IAClCH,MAAM,CAACC,IAAI,CAACG,YAAY,CAAC,CAACF,OAAO,CAAC,UAAAG,IAAI;;MACpC,IAAMC,EAAE,GAAGF,YAAY,CAACC,IAAI,CAAC;MAC7B,IAAME,YAAY,GAChBD,EAAE,CAACE,SAAS,KAAK,cAAc,GAAG,WAAW,GAAG,SAAS;MAC3DT,MAAM,CAACI,IAAI,CAAC,CAACE,IAAI,CAAC,IAAAI,EAAA,OAChBA,EAAA,CAACF,YAAY,IAAGG,sBAAsB,CACpCd,YAAY,EACZU,EAAE,CAACE,SAAS,EACZF,EAAE,CAACH,IAAI,EACPN,UAAU,CACX,E,GACF;IACH,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAOE,MAAM;AACf;AAxBAY,OAAA,CAAAhB,yBAAA,GAAAA,yBAAA;AA0BA,SAAgBiB,qBAAqBA,CAAChB,YAA2B;EAC/D,IAAMiB,KAAK,GAAGjB,YAAY,CAACkB,YAAY,EAAE;EACzC,IAAMC,QAAQ,GAAGnB,YAAY,CAACoB,eAAe,EAAE;EAC/C,IAAMC,YAAY,GAAGrB,YAAY,CAACsB,mBAAmB,EAAE;EAEvD,IAAMnB,MAAM,GAAY,EAAE;EAC1B,IAAIc,KAAK,EAAE;IACTd,MAAM,CAACc,KAAK,CAACV,IAAI,CAAC,GAAGgB,6BAA6B,CAACN,KAAK,EAAE,OAAO,CAAC;;EAEpE,IAAIE,QAAQ,EAAE;IACZhB,MAAM,CAACgB,QAAQ,CAACZ,IAAI,CAAC,GAAGgB,6BAA6B,CAACJ,QAAQ,EAAE,UAAU,CAAC;;EAE7E,IAAIE,YAAY,EAAE;IAChBlB,MAAM,CAACkB,YAAY,CAACd,IAAI,CAAC,GAAGgB,6BAA6B,CACvDF,YAAY,EACZ,cAAc,CACf;;EAGH,OAAOlB,MAAM;AACf;AApBAY,OAAA,CAAAC,qBAAA,GAAAA,qBAAA;AAsBA,SAAgBO,6BAA6BA,CAC3CC,IAAuB,EACvBZ,SAAoB;EAOpB,IAAMT,MAAM,GAAG,EAAE;EACjB,IAAMsB,MAAM,GAAGD,IAAI,CAACE,SAAS,EAAE;EAC/BtB,MAAM,CAACC,IAAI,CAACoB,MAAM,CAAC,CAACnB,OAAO,CAAC,UAAAqB,SAAS;IACnCxB,MAAM,CAACwB,SAAS,CAAC,GAAG;MAClBpB,IAAI,EAAEoB,SAAS;MACff,SAAS,EAAAA;KACV;EACH,CAAC,CAAC;EACF,OAAOT,MAAM;AACf;AAlBAY,OAAA,CAAAQ,6BAAA,GAAAA,6BAAA;AAoBA,SAAST,sBAAsBA,CAC7Bc,MAAqB,EACrBhB,SAAoB,EACpBe,SAAiB,EACjB1B,UAA4B;EAE5B,OAAO,UAAC4B,MAAM,EAAEC,IAAI,EAAEC,OAAO,EAAEC,IAAI;IAAK,OAAAnC,kBAAA,CAAAoC,OAAgB,CAAC;MACvDL,MAAM,EAAAA,MAAA;MACNhB,SAAS,EAAAA,SAAA;MACTe,SAAS,EAAAA,SAAA;MACTG,IAAI,EAAE,EAAE;MACRC,OAAO,EAAAA,OAAA;MACPC,IAAI,EAAAA,IAAA;MACJ/B,UAAU,EAAAA;KACX,CAAC;EARsC,CAQtC;AACJ"},"metadata":{},"sourceType":"script","externalDependencies":[]}